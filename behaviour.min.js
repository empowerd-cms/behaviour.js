(()=>{const e=new WeakMap,t=(e,t,n)=>(e.has(t)||e.set(t,n instanceof Function?n():n),e.get(t));window.behavior={_defs:new Map,_library:new Map,define(e,t){return this._library.set(e,t),this},add(e,n){const[i,r="init"]=e.split("::"),o=(a=r)&&a.trim()?a.split(/[,\s|]+/).map((e=>e.trim())).filter(Boolean):["init"];var a;const s=t(this._defs,i,(()=>new Map));return o.forEach((e=>{t(s,e,(()=>[])).push(n)})),this},init(n=document){this._defs.forEach(((i,r)=>{n.querySelectorAll(r).forEach((n=>{let o=e.get(n);o||(o=new Map,e.set(n,o));const a=t(o,r,(()=>new Set));i.forEach(((e,t)=>{if(a.has(t))return;const i=e.map((e=>"string"==typeof e?this._library.get(e):e)).filter(Boolean);if("init"===t||"DOMContentLoaded"===t)return i.forEach((e=>e(n))),void a.add(t);i.forEach((e=>{n.addEventListener(t,(t=>e(n,t)))})),a.add(t)}))}))}))},trigger(e,t,n={}){document.querySelectorAll(e).forEach((e=>this.triggerEl(e,t,n)))},triggerEl(e,t,n={}){const i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});e.dispatchEvent(i)},observeMutations(){new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof HTMLElement&&this.init(e)}))}))})).observe(document.body,{childList:!0,subtree:!0})}}})(),document.addEventListener("DOMContentLoaded",(()=>{behavior.init(),behavior.observeMutations()}));